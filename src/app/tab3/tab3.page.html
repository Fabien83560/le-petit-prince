<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Accueil
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="setOpenTutorial(true)">Tutoriel</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Accueil</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-label *ngIf="countFavorites() == 0"><h1 style="text-align: center; margin: 5%;"> Aucun Articles Favoris</h1></ion-label>
  <ion-label *ngIf="countFavorites() > 0"><h1 style="text-align: center; margin: 5%;">Articles Favoris</h1></ion-label>
  <ion-list *ngIf="favoriteArticles">
    <ion-item *ngFor="let article of  getFavoriteArticles()" (click)="setOpen(true, article)">
        <ion-label>
          <h2><b><u>{{ article.titre }}</u></b></h2>
          <h3>Date: {{ article.date | date:'medium' }}</h3>
          <h3>Category: {{ article.categorie }}</h3>
          <h3 *ngIf="article.important" style="color: red;">IMPORTANT</h3>
        </ion-label>
        <h2>
          <ion-icon name="star" [color]="article.isFavorite ? 'warning' : 'medium'"></ion-icon>
        </h2>
    </ion-item>
  </ion-list>

</ion-content>


<ion-modal [isOpen]="!userConnected" [backdropDismiss]="false">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Connexion</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding login-content">
      <div class="login-logo-container">
        <img src="../../assets/img/le-petit-prince.png" alt="Logo" class="login-logo">
      </div>
      <div class="login-form-container">
        <form>
          <ion-item class="login-input">
            <ion-icon name="person-outline" slot="start"></ion-icon>
            <ion-input type="text" [(ngModel)]="loginData.username" name="username" placeholder="username" required></ion-input>
          </ion-item>
          <ion-item class="login-input">
            <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
            <ion-input type="password" [(ngModel)]="loginData.password" name="password" placeholder="password" required></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="loginError" class="login-error-message">
            <ion-alert>{{ loginErrorMessage }}</ion-alert>
          </ion-text>
          <ion-item class="remember" lines="none">
            <ion-label>Se souvenir de moi</ion-label>
            <ion-checkbox slot="start" class="small-checkbox" (ionChange)="rememberMe()" [checked]="rememberLogin"></ion-checkbox>
          </ion-item>                  
          <ion-button expand="block" (click)="tryConnexion()" [disabled]="!loginData.username || !loginData.password" type="submit" class="login-button">Se Connecter</ion-button>
        </form>               
        <ion-text color="medium">
          <p class="forgot-password">Mot de Passe Oubli√© ?</p>
        </ion-text>
      </div>
    </ion-content>
  </ng-template>
</ion-modal>

<ion-modal [isOpen]="tutorialModal">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Tutoriel</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="setOpenTutorial(false)">Close</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      
    </ion-content>
  </ng-template>
</ion-modal>